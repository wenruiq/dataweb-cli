#!/usr/bin/env bash
# Fast pre-commit hook - runs biome check on staged files only

set -e

# Get staged .ts files
STAGED_FILES=$(git diff --cached --name-only --diff-filter=ACM | grep -E '\.(ts|tsx|js|jsx|json)$' || true)

if [ -z "$STAGED_FILES" ]; then
  exit 0
fi

echo "üîç Running biome check..."

# Run biome check on staged files only (super fast)
bunx @biomejs/biome check $STAGED_FILES

echo "‚úÖ Pre-commit checks passed"
